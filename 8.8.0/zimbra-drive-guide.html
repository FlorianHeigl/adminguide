<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6">
<title>Introduction</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Zimbra Drive is a client that interfaces Zimbra to third party products and services.</p>
</div>
<div class="paragraph">
<p>Currently supported products:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Nextcloud</p>
</li>
<li>
<p>ownCloud</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Zimbra Drive is a client that interfaces Zimbra to third party products and services.<br>
All data accessible from Zimbra Drive is not hosted on the Zimbra server or on any other Zimbra product, nor managed by Zimbra or any incorporated service.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="about-this-document">About this document</h3>
<div class="paragraph">
<p>This document targets system administrators, aiming to provide an
in-depth view of the product architecture and the knowledge necessary
for solid customizations.</p>
</div>
<div class="paragraph">
<p>Starting from Zimbra 8.8.0, Zimbra Drive is provided as an included
package of Zimbra Collaboration Suite; this means that the installation
process of Zimbra side components of Zimbra Drive can be performed
through Zimbra installation.</p>
</div>
<div class="paragraph">
<p>The <code>Installation</code> and <code>Configuration</code> chapters
cover the installation and the configuration of
the product in the supported enviroments respectively.<br>
The upgrade process is covered in the <code>Upgrade</code> chapter, also including all the
information about compatibility.<br>
The <code>Uninstallation</code> chapter contains the procedure to uninstall
Zimbra Drive. Advanced topics as how to build the software from the
sources are exposed in the <code>Advanced Topics</code> chapter.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Backups, archiving, access security and user management is not done by or within Zimbra in any way.<br>
Malfunctionings, data and access security as well as storage management and data archiving on any third party product is not managed by Zimbra or through Zimbra software nor falls under any Zimbra Support contract as stated in section 2.4(a) of Zimbra&#8217;s "Maintenance &amp; Support Terms and Conditions".
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="overview">Overview</h3>
<div class="sect3">
<h4 id="general_architecture">General architecture</h4>
<div class="paragraph">
<p>The purpouse of Zimbra Drive is to connect the Zimbra end user to a
cloud service, external to Zimbra; any Zimbra domain can be paired to a
cloud service, then each Zimbra end user, belonging to this domain, will
benefit to the same cloud service platform.</p>
</div>
<div class="paragraph">
<p>Zimbra Drive is a three parts software (Zimbra Extension, Zimlet and
Cloud App), that integrate an external storage services in the Zimbra
Web Interface as well as authentication mechanism. Each Zimbra account
will be linked to the external storage service account allowing the user
back-and-forth.</p>
</div>
</div>
<div class="sect3">
<h4 id="components">Components</h4>
<div class="paragraph">
<p>Zimbra Drive components are the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Zimbra Extension</p>
</li>
<li>
<p>Zimlet</p>
</li>
<li>
<p>Cloud App</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Each component is mandatory and requires a careful configuration.
However any error in installation or configuration won’t affect Zimbra
usability.</p>
</div>
</div>
<div class="sect3">
<h4 id="extension">Extension</h4>
<div class="paragraph">
<p>The Zimbra Drive extension is installed in the mailboxd component, it
acts in the middle between the Zimbra Drive zimlet and Cloud App
providing services like authentication and item actions to the zimlet.</p>
</div>
</div>
<div class="sect3">
<h4 id="zimlet">Zimlet</h4>
<div class="paragraph">
<p>The Zimbra Drive zimlet improves the user Zimbra interface adding a new
tab before Preferences tab, this tab is titled <em>Drive</em>. Furthermore the
zimlet let user perform search in linked cloud.<br>
The zimlet component is contained in package com_zextras_drive_open.zip
and the zimlet name is precisely <em>com_zextras_drive_open</em>.</p>
</div>
</div>
<div class="sect3">
<h4 id="supportedClouds">Cloud App</h4>
<div class="paragraph">
<p>The external services of cloud storage need specific app with dedicated
API to communicate with Zimbra Drive Extension; Zimbra Drive provides an
app to each service supported.</p>
</div>
<div class="sect4">
<h5 id="nextcloudowncloud">Nextcloud/ownCloud</h5>
<div class="paragraph">
<p>The Nextcloud/ownCloud App is a specific application for Nextcloud and
ownCloud, it provide transparent authentication in ownCloud and
Nextcloud using Zimbra credentials and a layer of compatibility which
abstracts the version of ownCloud and Nextcloud for the extension.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation">Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter will guide the administrator through manual the
installation of the Zimbra Drive.</p>
</div>
<div class="sect2">
<h3 id="requirements">Requirements</h3>
<div class="ulist">
<ul>
<li>
<p>Root-level access to the underlying operating system.</p>
</li>
<li>
<p>Administrative access to an external cloud supported service (see
[==subsec:supportedClouds==]).<br>
Supported versions:</p>
<div class="ulist">
<ul>
<li>
<p>Nextcloud 9, 10, 11</p>
</li>
<li>
<p>ownCloud 9.0, 9.1, 10</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="zimbra-packages-installation">Zimbra packages installation</h3>
<div class="paragraph">
<p>In this section is described how to install the Zimbra Drive Extension
and the Zimbra Drive Zimlet.</p>
</div>
<div class="paragraph">
<p>Both Extension and Zimlet are installed through the official Zimbra
installer, indeed Zimbra installation inquires for Zimbra Drive
installation. Zimbra Drive Extension and Zimbra Drive Zimlet will be
installed Answering ``Yes'' to the following questions in Zimbra
installation:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Use Zimbra's package repository [Y] Yes
...
Install zimbra-drive [Y] Yes</pre>
</div>
</div>
<div class="sect3">
<h4 id="zimbra-already-installed">Zimbra already installed</h4>
<div class="paragraph">
<p>The Zimbra installation adds the Zimbra repositories to apt sources
list, so Zimbra Drive can be installed through the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As root, when apt-get is available
apt-get update
apt-get install zimbra-drive
# As root, when yum is available
yum update
yum install zimbra-drive</pre>
</div>
</div>
<div class="paragraph">
<p>Hereafter Zimbra Drive Extension will be enable with the zimlet deploy
and a mailbox restart:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As zimbra
zmzimletctl deploy /opt/zimbra/zimlets/com_zextras_drive_open.zip
zmmailboxd  restart</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cloud-app-installation">Cloud app installation</h3>
<div class="paragraph">
<p>Here are provided the steps to install the Zimbra Drive Cloud App to the
specific supported cloud.</p>
</div>
<div class="paragraph">
<p>The cloud services currently supported are Nextcloud and ownCloud with
the archive <code>zimbradrive.tar.gz</code>.</p>
</div>
<div class="paragraph">
<p>[[==subsec:NextcloudownCloudInstallation==]]
Nextcloud/ownCloud
<sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup><sup>^</sup></p>
</div>
<div class="paragraph">
<p>Nextcloud and ownCloud requires the same following installation steps.<br>
The placeholder <code>PATHTOCLOUD</code> is the path of the Nextcloud/ownCloud
service in server:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Copy <code>zimbradrive.tar.gz</code> in Nextcloud/ownCloud drive:<br>
<code>scp zimbradrive.tar.gz root@cloud:/tmp</code></p>
</li>
<li>
<p>In Nextcloud/ownCloud server, extract <code>zimbradrive.tar.gz</code> in
<code>PATHTOCLOUD/apps</code>:<br>
<code>tar -xvzf zimbradrive.tar.gz -C PATHTOCLOUD/apps</code></p>
</li>
<li>
<p>Change permissions of the extracted folder
<code>PATHTOCLOUD/apps/zimbradrive</code> with the user owner of Nextcloud/ownCloud
(E.g.: www-data):<br>
<code>chown -R www-data:www-data PATHTOCLOUD/apps/zimbradrive/</code></p>
</li>
<li>
<p>Enable Zimbra Drive App from Nextcloud/ownCloud Admin Interface or
with command:
<code>sudo -u www-data php PATHTOCLOUD/occ app:enable zimbradrive</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>At this point the Nextcloud/ownCloud Zimbra Drive App is installed and
is required the configuration.</p>
</div>
<div class="paragraph">
<p>On Apache Web Server, Zimbra Drive doesn’t work if the server is not
correctly configured. The instructions about <em>Apache Web Server
Configuration</em> in manual
<a href="https://docs.nextcloud.com/server/11/admin_manual/installation/source_installation.html#apache-web-server-configuration">Nextcloud
installation</a> or in manual
<a href="https://doc.owncloud.org/server/10.0/admin_manual/installation/source_installation.html#apache-web-server-configuration">ownCloud
installation</a> are required.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration">Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Zimbra Drive configuration is splitted in Zimbra side and Cloud side.
Zimbra Drive Zimlet doesn’t need more than standard zimlet
configuration, therefore Zimbra side requires only Zimbra Drive
Extension configuration. About Cloud side, each supported cloud service
configuration will be shown later; they are indipendents and only the
configuration according to desired cloud service is required.</p>
</div>
<div class="sect2">
<h3 id="zimbra-extension-configuration">Zimbra Extension configuration</h3>
<div class="paragraph">
<p>Zimbra Extension setup requires the url of the cloud service that will
be paired. This url has to be set in the domain attribute
zimbraDriveOwnCloudURL and it is common to all users belonging the same
domain. Different domains may have different cloud service urls.<br>
The command that set the cloud service url is the following:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As zimbra
zmprov md domainExample.com zimbraDriveOwnCloudURL CLOUD_URL</pre>
</div>
</div>
<div class="paragraph">
<p>The cloud service url (<code>CLOUD_URL</code>) has to be in the form:
<code>protocol://cloudHost/path</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>protocol</code>: can be <code>http</code> or <code>https</code></p>
</li>
<li>
<p><code>cloudHost</code>: hostname of the server where the cloud service lies</p>
</li>
<li>
<p><code>path</code>: path in server of the targeted cloud service</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Moreover each cloud service have its entry point.<br>
In Nextcloud/ownCloud, the url has to target at <code>index.php</code>
protocol://cloudHost/path/index.php</p>
</div>
</div>
<div class="sect2">
<h3 id="cloud-app-configuration">Cloud App configuration</h3>
<div class="sect3">
<h4 id="NextcloudownCloudInstallation">Nextcloud/ownCloud</h4>
<div class="paragraph">
<p>When everything is correctly configured, the Zimbra end user creates a
private account in the cloud service that will be paired with the Zimbra
user account. This new cloud account inherit the Zimbra user credentials
and appears in users list of Nextcloud/ownCloud Admin Interface; however
this account is active until the Zimbra Drive app is enabled.</p>
</div>
<div class="paragraph">
<p>Nextcloud and ownCloud have the same following configuration entries. In
Nextcloud/ownCloud administration panel must appears a new ``Zimbra
Drive'' entry in the left sidebar that redirect to the configuration
view. There will be the following configurations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(CheckBox) <strong>Enable Zimbra authentication back end</strong><br>
(Mandatory checked) On check, add a configuration in config.php that let
Nextcloud/ownCloud use Zimbra Drive App class. On uncheck remove this
configuration.</p>
</li>
<li>
<p>(CheckBox) <strong>Allow Zimbra’s users to log in</strong><br>
(Mandatory checked) Allows Zimbra users to use Nextcloud/ownCloud with
their Zimbra credentials.</p>
</li>
<li>
<p>(InputField) <strong>Zimbra Server</strong><br>
(Mandatory) Zimbra webmail host or ip.</p>
</li>
<li>
<p>(InputField) <strong>Zimbra Port</strong><br>
(Mandatory) Zimbra webmail port.</p>
</li>
<li>
<p>(CheckBox) <strong>Use SSL</strong><br>
Check if the Zimbra webmail port uses SSL certification.</p>
</li>
<li>
<p>(CheckBox) <strong>Enable certification verification</strong><br>
Disable only if Zimbra has an untrusted certificate.</p>
</li>
<li>
<p>(InputField) <strong>Domain Preauth Key</strong><br>
After Zimbra end user creates a private account with the first
successful access in Zimbra Drive, he can log in Nextcloud/ownCloud web
interface with their Zimbra credentials. In Nextcloud/ownCloud web
interface he will find a Zimbra icon in Apps menu that will open new a
Zimbra webmail tab without login step.<br>
This feature works only if the Zimbra Domain PreAuth Key is copied. In
zimbra run the following command in order to show the desired Zimbra
Domain PreAuth Key:<br>
<code># As zimbra</code><br>
<code>zmprov getDomain example.com zimbraPreAuthKey</code><br>
<code># If response is empty, generate with</code><br>
<code>zmprov generateDomainPreAuthKey domainExample.com</code><br></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="upgrade">Upgrade</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter will guide the administrator through the manual upgrade of
Zimbra Drive. It’s important to pay attention to the version of each
component: the compatibility is granted only if each component has the
same version.<br>
Unlike zimlet and extension that can be upgraded with Zimbra upgrade,
Zimbra Drive App must be kept manually updated.</p>
</div>
<div class="sect2">
<h3 id="zimbra-extension-and-zimlet-upgrade">Zimbra Extension and Zimlet upgrade</h3>
<div class="paragraph">
<p>When Zimbra is upgraded to a more recent version, Zimbra Drive can be
installed right from the installation. Anyway Zimbra Drive can be kept
upgraded in the same Zimbra major.minor versions with apt-get or yum:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As root, when apt-get is available
apt-get update; apt-get install zimbra-drive
# As root, when yum is available
yum update; yum install zimbra-drive</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cloud-app-upgrade">Cloud app upgrade</h3>
<div class="paragraph">
<p>Unlike Zimlet and Extension, the Zimbra Drive Cloud app has to be
manually upgraded on every version change.</p>
</div>
<div class="paragraph">
<p>The upgrade of Zimbra Drive App in Nextcloud/ownCloud requires that
files are just replaced. Perform the steps as
installation([==subsec:NextcloudownCloudInstallation==]):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Copy <code>zimbradrive.tar.gz</code> in Nextcloud/ownCloud drive<br>
<code>scp zimbradrive.tar.gz root@cloud:/tmp</code></p>
</li>
<li>
<p>In Nextcloud/ownCloud server, extract <code>zimbradrive.tar.gz</code> in
<code>PATHTOCLOUD/apps</code>:<br>
<code>tar -xvzf zimbradrive.tar.gz -C PATHTOCLOUD/apps/apps</code></p>
</li>
<li>
<p>Change permissions of the extracted folder
<code>PATHTOCLOUD/apps/zimbradrive</code> with the user owner of Nextcloud/ownCloud
(E.g.: www-data):<br>
<code>chown -R www-data:www-data PATHTOCLOUD/apps/zimbradrive/</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>On ugrade from version 0.0.1 remove the table oc_zimbradrive_users that
is not more used. In mysql execute the following command:<br>
<code>DROP TABLE oc_zimbradrive_users;</code></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="uninstallation">Uninstallation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This chapter will guide the administrator through the manual
uninstallation of Zimbra Drive and the cleanup of the system.</p>
</div>
<div class="sect2">
<h3 id="disablePackages">Disable Zimbra Drive packages</h3>
<div class="paragraph">
<p>Since Zimbra Drive Extension and Zimbra Drive Zimlet are installed as
Zimbra packages, their uninstallation is unexpected. The abeyance of the
Zimbra Drive feature can be reached disabling the Zimbra Drive Zimlet
from desired user, domain or class of service</p>
</div>
</div>
<div class="sect2">
<h3 id="remove-cloud-app">Remove Cloud App</h3>
<div class="sect3">
<h4 id="NextcloudownCloudUninstallation">Nextcloud/ownCloud</h4>
<div class="paragraph">
<p>The removal of Nextcloud/ownCloud App consists in the separate steps:
Clean up and App uninstall.</p>
</div>
<div class="paragraph">
<p>The Clean up step will delete all the Zimbra users data from
Nextcloud/ownCloud and is not reversible. It <strong>requires</strong> that the Zimbra
Drive is installed and enabled.<br>
Indeed, the Zimbra Drive App can be uninstalled without the removal of
Zimbra users storages (Clean up step can be skipped).</p>
</div>
<div class="paragraph">
<p><strong>Clean up</strong></p>
</div>
<div class="paragraph">
<p>Before starting the clean up, it’s recommended to disallow Zimbra users
access: the configuration <strong>Allow Zimbra’s users to log in</strong> should be
unchecked.</p>
</div>
<div class="paragraph">
<p>The following commands delete the users created by Zimbra Drive App and
clean the table containing references to Zimbra users (replace correctly
<code>mysql_pwd</code> and <code>occ_db</code>):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cd /var/www/cloud           # Go to the OCC path
mysql_pwd='password'        # database password
occ_db='cloud'              # database name for the Nextcloud / ownCloud

# In ownCloud
user_id_column='user_id'    # column name in table oc_accounts of ownCloud
# In Nextcloud
user_id_column='uid'        # column name in table oc_accounts of Nextcloud

mysql -u root --password="${mysql_pwd}" "${occ_db}" -N -s \
    -e 'SELECT uid FROM oc_group_user WHERE gid = "zimbra"' \
    | while read uid; do \
        sudo -u www-data php ./occ user:delete "${uid}"; \
        mysql -u root --password="${mysql_pwd}" "${occ_db}" \
            -e "DELETE FROM oc_accounts WHERE ${user_id_column} = '${uid}' LIMIT 1"; \
      done</pre>
</div>
</div>
<div class="paragraph">
<p><strong>App uninstall</strong></p>
</div>
<div class="paragraph">
<p>In Nextcloud/ownCloud platform, the Zimbra Drive App can be removed from
the Nextcloud/ownCloud Admin Interface: the configuration should be
restored unchecking <strong>Enable Zimbra authentication back end</strong>, then Zimbra
Drive App must be disabled from the <code>Enabled Apps'' tab and uninstalled
from the </code>Disabled Apps''.</p>
</div>
<div class="paragraph">
<p>With the previous steps, the Zimbra Drive App folder
(<code>PATHTOCLOUD/apps/zimbradrive</code>) is deleted but all the users files
still remains in the cloud service drive: any configuration or file that
was not previously cleaned up, is retrieved on the reinstallation of
Zimbra Drive App.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced">Advanced Topics</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="build-from-sources">Build from sources</h3>
<div class="paragraph">
<p>This section exposes the steps to build the Zimbra Drive components. The
official Zimbra Drive source repository is hosted on
<a href="https://github.com/ZeXtras/ZimbraDrive">GitHub.com/ZeXtras/ZimbraDrive</a>.</p>
</div>
<div class="paragraph">
<p>The build system uses relative path; the following example assumes that
the working path is /tmp/ but it can be changed at will.</p>
</div>
<div class="literalblock">
<div class="content">
<pre># Clean the folder that will be used for the build
rm -rf /tmp/ZimbraDrive &amp;&amp; cd /tmp/

# Clone the source repository
git clone --recursive git@github.com:ZeXtras/ZimbraDrive.git

# Jump into the source folder
cd ZimbraDrive

# Checkout the correct branch for the Zimbra release (assuming Zimbra 8.8.0 )
git checkout release/8.8.0

# Build the whole package setting the target Zimbra (can take some minutes)
make clean &amp;&amp; make ZAL_ZIMBRA_VERSION=8.8.0</pre>
</div>
</div>
<div class="paragraph">
<p>The final artifact <code>zimbra_drive.tgz</code> will be placed in folder
<code>/tmp/zimbradrive/dist</code>.</p>
</div>
<div class="paragraph">
<p>The <code>dist</code> folder:</p>
</div>
<div class="paragraph">
<p>The archive zimbra_drive.tgz contains all components of Zimbra Drive:</p>
</div>
</div>
<div class="sect2">
<h3 id="manual-installation">Manual installation</h3>
<div class="paragraph">
<p>Manual installation is not supported.</p>
</div>
<div class="paragraph">
<p>The Zimbra Drive Zimlet and Extension are installed during the Zimbra
installation. Any modification to the installed zimbra packages may lead
to a fail during the Zimbra upgrade.</p>
</div>
<div class="sect3">
<h4 id="extension-1">Extension</h4>
<div class="paragraph">
<p>The files zimbradrive-extension.jar and zal.jar must be copied in the
right place; then a mailbox restart is required to load the extension.</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As root
mkdir -p /opt/zimbra/lib/ext/zimbradrive
cp zimbradrive-extension.jar /opt/zimbra/lib/ext/zimbradrive/
cp zal.jar /opt/zimbra/lib/ext/zimbradrive/

# As zimbra
mailboxdctl restart</pre>
</div>
</div>
<div class="paragraph">
<p>Everything is successfully done only if extension start correctly and
the following string should be logged in <code>ZIMBRA_HOME/log/mailbox.log</code>
at the moment of the last mailbox restart:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Initialized extension Zimbra Abstraction Layer for: zimbradrive</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="zimlet-1">Zimlet</h4>
<div class="paragraph">
<p>Deploy the zimlet with the following command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As zimbra
zmzimletctl deploy com_zextras_drive_open.zip</pre>
</div>
</div>
<div class="paragraph">
<p>By default the zimlet is enabled for the ‘default‘ COS. The zimlet can
be enabled on the required COSes from the administration console.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="manual-upgrade">Manual upgrade</h3>
<div class="paragraph">
<p>Manual upgrade is not supported.</p>
</div>
<div class="paragraph">
<p>The Zimbra Drive Zimlet and Extension are upgraded during the the Zimbra
upgrade. Any modification to the installed zimbra packages may lead to a
fail during the Zimbra upgrade.</p>
</div>
<div class="sect3">
<h4 id="extension-2">Extension</h4>
<div class="paragraph">
<p>The Zimbra Drive Extension can be upgraded replacing the
zimbra-extension.jar and zal.jar files in
<code>/opt/zimbra/lib/ext/zimbradrive/</code> and performing a mailbox restart.</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As root
cp zimbradrive-extension.jar /opt/zimbra/lib/ext/zimbradrive/
cp zal.jar /opt/zimbra/lib/ext/zimbradrive/

# As zimbra
mailboxdctl restart</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="zimlet-2">Zimlet</h4>
<div class="paragraph">
<p>The Zimbra Drive Zimlet can be upgraded deploying the newest version and
flushing cache:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As zimbra
zmzimletctl deploy com_zextras_drive_open.zip
zmprov fc zimlet</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="manual-uninstall">Manual uninstall</h3>
<div class="paragraph">
<p>Manual uninstallation is not supported.</p>
</div>
<div class="paragraph">
<p>Please consider to disable the Zimbra Drive (see:
[==sec:disablePackages==]) instead of uninstalling it. Any modification
to the installed zimbra packages may lead to a fail during the Zimbra
upgrade.</p>
</div>
<div class="paragraph">
<p>The manual uninstallation process of Zimbra Drive Zimlet and Zimbra
Drive Extension requires to undeploy zimlet and clean extension folder
from zimbra.</p>
</div>
<div class="paragraph">
<p>Remove Zimbra Drive zimlet:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As zimbra
zmzimletctl undeploy com_zextras_drive_open</pre>
</div>
</div>
<div class="paragraph">
<p>Remove Zimbra Drive Extension:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As root
rm -rf /opt/zimbra/lib/ext/zimbradrive/

# As zimbra
zmmailboxdctl restart</pre>
</div>
</div>
<div class="paragraph">
<p>The last but not necessary step is to clean the domain attribute with
the command<br>
`zmprov md domainExample.com zimbraDriveOwnCloudURL `</p>
</div>
<div id="how_to_report_an_issue" class="paragraph">
<p>How to report an issue
<sub>~</sub><sub>~</sub><sub>~</sub><sub>~</sub><sub>~</sub><sub>~</sub><sub>~</sub><sub>~</sub></p>
</div>
<div class="paragraph">
<p>In case an issue is found, the support team requires the following
informations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A detailed description of the issue: What you are expecting and what
is really happening.</p>
</li>
<li>
<p>A detailed description of the steps to reproduce the issue.</p>
</li>
<li>
<p>A detailed description of the installation and the environment: (see )</p>
<div class="ulist">
<ul>
<li>
<p>Cloud information:</p>
</li>
<li>
<p>Server information: Cpu, Ram, Number of the servers and for each
server:</p>
<div class="ulist">
<ul>
<li>
<p>Zimbra Version (see )</p>
</li>
<li>
<p>Zimbra Drive Version</p>
</li>
<li>
<p>List of the installed zimlets (see )</p>
</li>
</ul>
</div>
</li>
<li>
<p>Client information:</p>
<div class="ulist">
<ul>
<li>
<p>Browser name and version</p>
</li>
<li>
<p>Connectivity used between the servers and the client</p>
</li>
<li>
<p>Client Skin (theme)</p>
</li>
<li>
<p>Client Language</p>
</li>
<li>
<p>List of the Zimlets enabled on the user (see )</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Any log envolved by the issue:</p>
<div class="ulist">
<ul>
<li>
<p><code>mailbox.log</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any personal information can be removed to protect the privacy.</p>
</div>
</div>
<div class="sect2">
<h3 id="gatheringinfo">Gathering System information</h3>
<div class="paragraph">
<p>This section will help the administrator to collect useful system
information required to correctly escalate an issue to the support team
ad described in the .</p>
</div>
<div class="sect3">
<h4 id="gatheringinfo-zversion">Zimbra version</h4>
<div class="paragraph">
<p>To see the version of the Zimbra type this command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As zimbra
zmcontrol -v</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gatheringinfo-listzimlets">List of the deployed zimlets</h4>
<div class="paragraph">
<p>To see the list of the deployed zimlets type this command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As zimbra
zmzimletctl listZimlets</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gatheringinfo-userzimlets">List of the zimlets enabled on the user</h4>
<div class="paragraph">
<p>To see the list of the Zimlets enabled for a user type this command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As zimbra
zmprov getAccount user@domain.tld zimbraZimletAvailableZimlets</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gatheringinfo-userzimlets-pref">List of the zimlet user preferences</h4>
<div class="paragraph">
<p>To see the list of the preferences of the Zimlets enabled for a user
type this command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As zimbra
zmprov getAccount user@domain.tld zimbraZimletUserProperties</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gatheringinfo-extension">Extension and Zimlet version</h4>
<div class="paragraph">
<p>To see the version of the Extension and the Zimlet</p>
</div>
<div class="literalblock">
<div class="content">
<pre># As zimbra
java -cp /opt/zimbra/lib/ext/zimbradrive/zimbradrive-extension.jar \
    com.zextras.lib.ZimbraDrive</pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-08-01 08:43:54 CDT
</div>
</div>
</body>
</html>